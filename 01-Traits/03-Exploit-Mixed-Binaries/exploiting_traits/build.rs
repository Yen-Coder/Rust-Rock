// build.rs
use std::env;
use std::path::PathBuf;

fn main() {
    // Get the source directory
    let src_dir = PathBuf::from(env::var("CARGO_MANIFEST_DIR").unwrap()).join("src");
    let bug_c_path = src_dir.join("bug.c");
    
    // Compile the C code
    cc::Build::new()
        .file(&bug_c_path)
        .compile("bug");
    
    // Tell cargo to rerun if bug.c changes
    println!("cargo:rerun-if-changed={}", bug_c_path.display());
}
